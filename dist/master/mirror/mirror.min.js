var __extends=this.__extends||function(e,r){function t(){this.constructor=e}for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i]);t.prototype=r.prototype,e.prototype=new t},WAMP=require("../.typescript/wamp"),_=require("lodash"),Mirror=function(e){function r(){var r=this;e.call(this),this.type="Mirror",this.name="",this.reflection={},this.regs["mirror.reflect"]=[function(e){return r.reflect(e)}]}return __extends(r,e),r.prototype.reflect=function(e){if(e[0]){var r=e[0];null!==e[1]?this.reflection[r]=_.merge(this.reflection[r]||{},e[1]):delete this.reflection[r],this.publish("mirror.reflection",[],this.reflection),console.log(e)}return this.reflection},r}(WAMP.Node);new Mirror;